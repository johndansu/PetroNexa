{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="{% static 'frontend/css/main.css' %}" rel="stylesheet">
    <title>PetroNexa</title>
</head>
<body>
    <!-- Beginning of the Navbar -->
    <header>
        <nav class="navbar navbar-expand-lg ">
            <a class="navbar-brand logo" href="{% url 'petronexa_app:homepage' %}">PetroNexa</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto nav">
                    <li class="nav-item"><a class="nav-link" href="{% url 'petronexa_app:fuelfinder' %}">Find Stations</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'petronexa_app:addstation' %}">Add Stations</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'petronexa_app:contact' %}">Contact</a></li>
                </ul>
                <ul class="navbar-nav auth-links">
                    <li class="nav-item"><a class="nav-link" href="{% url 'petronexa_app:login' %}">Login</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'petronexa_app:signup' %}">Signup</a></li>
                </ul>
            </div>
        </nav>
    </header>
    
    <main id="main">
        <div class="container-fluid hero-container">
            <img src="{% static 'frontend/img/background7.jpg' %}" alt="Background Image" class="background-image">
            <div class="hero-text text-right">
              <h1>Welcome to PetroNexa</h1>
              <p> your ultimate destination for hassle-free <br> fuel station discovery. <br>
                With our intuitive map interface, <br> finding the nearest petrol stations is now effortless. <br>
                Explore detailed information, leave reviews, <br> and stay informed about fuel options on the go. <br>
                <a href="{% url 'petronexa_app:fuelfinder' %}" class="btn btn-primary"> Start your journey today</a></p>
            </div>
        </div>
        <br>
        <br>
        <section id="blog" class="blog">
            <div class="container" data-aos="fade-up" data-aos-delay="100">
    
                <div class="row gy-4 posts-list">
                    {% if  post %}
                    {% for p in post %}
                        <div class="col-xl-4 col-md-6">
                            <div class="post-item position-relative h-100">
                
                                <div class="post-img position-relative overflow-hidden" style="height=48%;">
                                <img src="{{ p.featured_image.url }}" class="img-fluid" alt style="height: 263px;">
                                <span class="post-date">{{ p.published_date }}</span>
                                </div>
                
                                <div class="post-content d-flex flex-column">
                
                                    <h3 class="post-title gas-station-name">{{p.title}}</h3>
                    
                                    <div class="meta d-flex align-items-center">
                                        <div class="d-flex align-items-center">
                                        <i class="bi bi-person"></i> <span class="ps-2">{{p.author}}</span>
                                        </div>
                                        <span class="px-3 text-black-50">/</span>
                                        <div class="d-flex align-items-center">
                                        <i class="bi bi-folder2"></i> <span class="ps-2">{{p.rating}}</span>
                                        </div>
                                    </div>
                    
                                    <p class="post-test">{{ p.short_content }}</p>
                    
                                    <hr>
                    
                                    <a href="{% url 'petronexa_app:blog' p.id %}" class="readmore stretched-link"><span>Read More</span><i class="bi bi-arrow-right"></i></a>
                
                                </div>
                                <hr>
                                <!-- <div class="gas-station-info">
                                    <div class="rating">Rating: 4.5</div>
                                    <div class="price">Price: $2.50</div>
                                    <div class="customer-service">Customer Service: Good</div>
                                </div> -->
                            </div>
                        </div>    
                    {% endfor%}
                    {% endif %}
                    
                </div><!-- End post list item -->
    
            </div><!-- End blog posts list -->
    
            <div class="blog-pagination">
                <ul class="justify-content-center">
                <li class="active"><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                </ul>
            </div><!-- End blog pagination -->
    
            </div>
        </section><!-- End Blog Section -->
  
    </main><!-- End #main -->
     <!-- ======= Footer ======= -->
    <footer class="footer mt-5">
        <div class="container text-center">
          <p>&copy; 2023 PetroNexa. All rights reserved.</p>
        </div>
    </footer>
      
    <script>
        document.addEventListener('DOMContentLoaded', function () {
          const gasStations = [];
      
          // Iterate through post-item elements and extract data
          const postItems = document.querySelectorAll('.post-item');
          postItems.forEach(function (item) {
            const name = item.querySelector('.post-title').textContent;
            const blogContentElement = item.querySelector('.post-content'); // Use the correct class name here
            const blogContent = blogContentElement ? blogContentElement.textContent : '';
      
            gasStations.push({ name, blogContent });
          });
      
          // Store gas station data in Local Storage
          localStorage.setItem('gasStations', JSON.stringify(gasStations));
        });
      </script>
      
    <script src="{% static 'frontend/js/script.js' %}"></script>

</body>
</html>